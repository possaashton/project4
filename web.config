<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.webServer>

    <!-- Enable Reverse Proxy to SAP B1 Service Layer -->
    <rewrite>
      <rules>
        <rule name="Proxy to SAP B1 Service Layer" enabled="false" stopProcessing="true">
          <match url="^.*b1s/(.*)" />
          <action type="Redirect" url="https://devsap10:50000/b1s/{R:1}" logRewrittenUrl="true" redirectType="Temporary" />
        </rule>
                <rule name="RewriteToDevSAP" enabled="false">
                    <match url="^b1s/(.*)" />
                    <action type="Rewrite" url="https://devsap10:50000/b1s/{R:1}" />
                </rule>
      </rules>
    </rewrite>

    <!-- Enable ARR Proxy -->
    <proxy enabled="true" />

    <!-- Security / Request Filtering -->
    <security>
      <requestFiltering>
        <!-- Increase max content length if needed -->
        <requestLimits maxAllowedContentLength="52428800" />
      </requestFiltering>
    </security>

  </system.webServer>

  <system.web>
    <!-- Optional: custom error handling -->
    <customErrors mode="Off" />
  </system.web>
</configuration>
